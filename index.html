<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
</head>
<body>
  <div id="app">Please wait...</div>
  <script>
    window.$docsify = {
      name: 'MAVLink Devguide',
      repo: 'https://github.com/mavlink/mavlink-devguide',
     
      
      loadSidebar: 'SUMMARY.md',
      //loadNavbar: true,
      
      // Relative path enabled
      relativePath: true,
      alias: {
          //test alias

          '/assets/(.*)':
            'https://raw.githubusercontent.com/hamishwillee/mavlink-devguide/docsify_test/assets/$1',
          '/en/(.*)':
            'https://raw.githubusercontent.com/hamishwillee/mavlink-devguide/docsify_test/en/$1',
          '/zh/(.*)':
            'https://raw.githubusercontent.com/hamishwillee/mavlink-devguide/docsify_test/zh/$1',
          '/.*/_navbar.md': '/_navbar.md',
          
          '/(.*)':'/en/$1' //Default fallback now fallback to the English version (used with fallbackLanguages so if no translation provided no need to export the specific translated doc)
		  
        },

      fallbackLanguages: ['zh', 'ko'],
      
      plugins: [
        function(hook) {

          //Fixup images. There's bug that means it can't find them in the tree, but we can get them from github.
          hook.beforeEach(function(content) {
            let fixcontent=content;
            //Fix links to point to static assets on github.
            //This works because all relative links in lib are relative and so going back one level takes you to base.
            // So I'm just replacing a the base

            fixcontent = content.replace(/\!\[(.*?)\]\(.*?assets\/(.*?)\)/g, '<img src="/assets/$2" title="$1" />');
            //fixcontent = fixcontent.replace(/\]\(..\//g, `](${ current_path_back_one }/`);
            //fixcontent = fixcontent.replace(/\]\(..\/..\//g, `](${ current_path_back_two }/`);
            return fixcontent
          });


        }
      ],


      //TOC level
      //subMaxLevel: 3,
      toc: {
        scope: '.markdown-section',
        headings: 'h1, h2, h3, h4, h5, h6',
        title: 'Table of Contents',
      },
    }
  </script>
  <!-- Docsify v4 -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4"></script>
</body>
</html>
